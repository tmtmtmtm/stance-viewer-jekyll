#!/usr/bin/ruby

# Generate pages for each Person

require 'json'
require 'yaml'

people  = JSON.parse(File.read('_data/people.yaml'))
parties = JSON.parse(File.read('_data/parties.yaml'))

people.each do |mp|
  filename = "person/#{mp['id']}.md"

  data = {
    "layout" => 'mp',
    "id" => mp['id'],
    "name" => mp['name'],
    "autogenerated" => true,
  }
  text = data.to_yaml + "---\n"
  warn "Writing #{filename}"
  File.write(filename, text)
end
